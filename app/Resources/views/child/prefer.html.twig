{% extends 'base.html.twig' %}

{% block body %}
    <div class="container-fluid">
    <div class="row" style="height:20px;"> 
    </div>
    <div class="row"> 
        <div class="col-md-1"> 
        </div>
        <div class="col-md-10"> 
            <div class="box box-info">
                <div class="box-header with-border">
                    <h3 class="box-title">Schools applied for(Should be wriiten according to the order of preference)</h3>
                    <a href="#" class="btn btn-info showProduct pull-right" data-toggle="modal" data-target="#myModal">
                                 View School Details
                            </a>
                </div><!-- /.box-header -->
                <div class="box-body">
                <form method="post" class="schools" name="schools">
                    {% for i in 1..5 %}
                    <h1 class="col-sm-12 control-label">Preferrence 0{{i }}</h1>
                    <hr>
                    <div class="form-group">
                        <label class="col-md-4 control-label">Id of School</label>
                        <div class="col-md-8">
                            <input type="number" class="form-control" name="school[{{ loop.index }}][sid]" required min='1' m>
                        </div>
                    </div>
                    <div class="col-md-12">
                    </br>
                     </div>
                    <div class="form-group">
                        <label class="col-md-4 control-label">Distance to the school from the place of residence(k.m)</label>
                        <div class="col-md-8">
                            <input type="number" class="form-control" name="school[{{ loop.index }}][distance]" required min='0'>
                        </div>
                    </div>

                    <div class="col-md-12">
                    </br>
                    <hr>
                     </div>
                    {% endfor %}
                    </br>
                    <div class="col-md-12">
                    </br>
                     </div>
                     <div class="col-md-12">
                    <input type="submit" value="Add" name="submit" class="btn btn-info">
                    </div>
                </form>


                </div><!-- /.box-body -->
                <div class="box-footer">
                </div><!-- /.box-footer -->
              </div>
            </div>
        </div>
    </div> 


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">View List of Schools</h4>
                </div>
                <div class="modal-body" id="ex6">
                    <div class="form-group">
                        <div class="col-sm-6">
                            <fieldset class="controls">
                                 <input id="search-filtering" class="form-control  pull-right" placeholder="Type here to filter" type="text">
                            </fieldset>
                        </div>
                    </div>
                    <hr>
                    <table class="mytable table">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Address</th>
                       
                    </tr>
                </thead>
                <tbody>
                {% for school in schools %}
                    <tr class="instafilta-target">
                        <td>{{ school['id'] }}</td>
                        <td><a href="{{ path('school_show', { 'id': school.id }) }}">{{ school['name'] }}</a></td>
                        <td>{{ school['address'] }}</td>
                        
                    </tr>
                {% endfor %}
                </tbody>
            </table>

                    
                
                </div>
        
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>

        </div>
    </div>            

</div>  
<script src="{{asset('public/js/jquery.min.js')}}"></script>
    <script src="{{asset('public/js/instafilta.min.js')}}"></script>
    <script>
    $('#search-filtering').instaFilta({
        scope: '#ex6'
    });
    </script>    
{% endblock %}


